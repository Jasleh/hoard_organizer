package laurah;

import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class NewListColumn extends JPanel implements ActionListener
{
	private JTextField name;
	private JComboBox type;
	private JComboBox size;
	
	public NewListColumn()
	{
		String[] types = {"Text", "Integer", "Decimal"};
		String[] sizes = {"8", "16", "32", "64"};
		name = new JTextField();
		type = new JComboBox(types);
		size = new JComboBox(sizes);
		
		name.setColumns(32);
		type.setSelectedIndex(0);
		size.setSelectedIndex(2);
		
		type.addActionListener(this);
		
		this.add(name);
		this.add(type);
		this.add(size);
	}
	
	public void actionPerformed(ActionEvent e) 
	{
		// hide the size combo box if text is not selected
		String selected = (String) type.getSelectedItem();
		if (selected.equals("Text"))
		{
			javax.swing.SwingUtilities.invokeLater(new Runnable() {
				public void run()
				{
					size.setEnabled(true);
				}
			});
		}
		else
		{
			javax.swing.SwingUtilities.invokeLater(new Runnable() {
				public void run()
				{
					size.setEnabled(false);
				}
			});
		}
		
	}
	
	// returns null if the text field is blank
	// otherwise returns a string suitable for adding to
	// a CREATE TABLE statement
	public String getValues()
	{
		String result = null;
		
		return result;
	}
	
	// returns the value of the text field
	// returns null if the text field is blank
	public String getText()
	{
		String result = null;
		
		try
		{
			result = name.getText();
			result = result.trim();
			
			if (result.equals(""))
			{
				return null;
			}
		}
		catch (NullPointerException e) {}
		
		return result;
	}
}
